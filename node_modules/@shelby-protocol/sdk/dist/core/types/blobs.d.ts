import { AccountAddress } from '@aptos-labs/ts-sdk';
import { b as ClayProviderOptions } from '../../clay-codes-pdZFxI_B.js';
import { BlobName } from '../layout.js';
import '@shelby-protocol/clay-codes';
import 'zod';

/**
 * The parameters required for using Clay codes to erasure code a Blob.
 *
 * @link https://github.com/shelby/shelby/blob/e08e84742cf2b80ad8bb7227deb3013398076d53/move/shelby_contract/sources/common_types.move#L32
 */
type ClayEncoding = Required<ClayProviderOptions & {
    /**
     * The variant of the encoding.
     */
    variant: "clay";
}>;
/**
 * The encoding of a blob.
 *
 * @link https://github.com/shelby/shelby/blob/e08e84742cf2b80ad8bb7227deb3013398076d53/move/shelby_contract/sources/common_types.move#L32
 */
type BlobEncoding = ClayEncoding;
/**
 * The metadata of a blob that describes the blob and its properties.
 *
 * @link https://github.com/shelby/shelby/blob/e08e84742cf2b80ad8bb7227deb3013398076d53/move/shelby_contract/sources/global_metadata.move#L185
 */
interface BlobMetadata {
    /**
     * The owner of the blob.
     */
    owner: AccountAddress;
    /**
     * The name of the blob.
     * The full blob name is the account address followed by the blob name suffix.
     * Example: if the account address is 0x123 and the blob name suffix is "abc/def/ghi",
     * the full blob name will be "@0x123/abc/def/ghi"
     */
    name: BlobName;
    /**
     * The suffix of the blob name.
     * Example: if the full blob name is "@0x123/abc/def/ghi",
     * the blob name suffix will be "abc/def/ghi"
     */
    blobNameSuffix: string;
    /**
     * The merkle root of the blob.
     */
    blobMerkleRoot: Uint8Array;
    /**
     * The size of the blob in bytes.
     */
    size: number;
    /**
     * The encoding of the blob.
     */
    encoding: BlobEncoding;
    /**
     * The expiration timestamp of the blob in microseconds.
     */
    expirationMicros: number;
    /**
     * The creation timestamp of the blob in microseconds.
     */
    creationMicros: number;
    /**
     * The slice address of the blob.
     */
    sliceAddress: AccountAddress;
    /**
     * Whether the blob is written.
     */
    isWritten: boolean;
}
type BlobActivityType = "register_blob" | "delete_blob" | "extend_blob_expiration" | "write_blob" | "unknown";
/**
 * The activity of a blob.
 */
interface BlobActivity {
    /**
     * The name of the blob.
     */
    blobName: BlobName;
    /**
     * The account address of the activity.
     */
    accountAddress: AccountAddress;
    /**
     * The type of the activity.
     */
    type: BlobActivityType;
    /**
     * The event type of the activity.
     */
    eventType: string;
    /**
     * The event index of the activity.
     */
    eventIndex: number;
    /**
     * The transaction hash of the activity.
     */
    transactionHash: string;
    /**
     * The transaction version of the activity.
     */
    transactionVersion: number;
    /**
     * The timestamp of the activity.
     */
    timestamp: number;
}
/**
 * A grouping of the the slot index for the storage provider in the slice the blob is assigned to (whew).
 */
interface StorageProviderAck {
    /**
     * The slot of the the storage provider that is acking the chunkset.
     */
    slot: number;
    /**
     * The signature provided by the storage provider to ack the blob.
     */
    signature: Uint8Array;
}

export type { BlobActivity, BlobActivityType, BlobEncoding, BlobMetadata, ClayEncoding, StorageProviderAck };
